/*********************************************************************************************/

【*】 程序简介 
-工程名称：串口拼音输入法
-实验平台: 野火STM32 MINI 开发板
-MDK版本：5.16
-ST固件库版本：3.5.0



【 ！】功能简介：
利用串口实现拼音输入法的功能


【 ！】实验操作：
连接好开发板的USB转串口，使用支持UTF8编码显示的串口调试助手（如“格西烽火”，百度就有），
把调试助手的编码格式设置成UTF8格式，115200波特率。
下载程序并复位开发板，程序运行后，

-使用串口调试助手向开发板发送拼音字符串
-开发板接收到拼音后会向电脑返回候选字符
-继续使用串口调试助手，发送数字，选择目标字符
-开发板会返回选中的字符

/*程序运行示例*/

	This is an PingYin searching demo.

	Please input PingYin to search.

	[串口发送 T]yang
	[串口接收 R]<<-QUEUE-DEBUG->> [47]receive data:yang
	<<-QUEUE-DEBUG->> [56]pyserach:样养羊洋仰扬秧氧痒杨漾阳殃央鸯佯疡炀恙徉鞅泱蛘烊怏
	<<-QUEUE-DEBUG->> [57]pynum:25
	<<-QUEUE-DEBUG->> [59]Please input num between:[1-25] to select char,
	<<-QUEUE-DEBUG->> [60]Input "q" to quit selecting,

	[串口发送 T]2
	[串口接收 R]<<-QUEUE-DEBUG->> [102]select_num = 2,select_char = 养

	[串口发送 T]yan
	[串口接收 R]<<-QUEUE-DEBUG->> [47]receive data:yan
	<<-QUEUE-DEBUG->> [56]pyserach:眼烟沿盐言演严咽淹炎掩厌宴岩研延堰验艳阉砚雁唁彦焰蜒衍谚燕颜阎焉奄厣菸魇琰滟焱筵赝兖恹檐湮谳偃胭晏闫俨郾鄢妍崦嫣罨酽餍鼹铅殷阽芫阏腌剡
	<<-QUEUE-DEBUG->> [57]pynum:67
	<<-QUEUE-DEBUG->> [59]Please input num between:[1-67] to select char,
	<<-QUEUE-DEBUG->> [60]Input "q" to quit selecting,
/****************/

【！！】注意事项：

-串口调试助手必须使用UTF8格式，否则中文会乱码
-程序默认把拼音索引表存储在STM32的内部flash

-修改pysearch.h的宏，使用#define PY_TABLE  USE_EXTERN_TABLE，
 可以控制程序使用存储在SPI FLASH的拼音索引表，
 该表可使用“刷外部FLASH程序（如何恢复出厂数据）”程序通过SD卡往FLASH写入
 索引表的存储基地址为PY_TABLE_BASE

/**拼音索引表的内容**/
001,
022,啊阿呵吖嗄腌锕
070,爱矮挨哎碍癌艾唉哀蔼隘埃皑呆嗌嫒瑷暧捱砹嗳锿霭
.....
/*************/

-前四个字节用于表示该行的候选汉字字符有多少个字节(每个汉字3个字节，加上\n回车符)
-每行数据的存储地址偏移见pysearch.c中的宏。


-pysearch.c文件修改后必须另存为UTF8格式，
 直接用KEIL修改后保存会有错误，可使用notepad++或windows记事本另存为UTF8格式的文件

/***************************************************************************************************************/

【*】 引脚分配

串口(TTL-USB TO USART)：
CH340的收发引脚与STM32的发收引脚相连。
	RX<--->PA9
	TX<--->PA10
	
/*********************************************************************************************/


/*********************************************************************************************/

【*】 版本

-程序版本：1.0
-发布日期：2017-06

-版本更新说明：首次发布

/*********************************************************************************************/

【*】 联系我们

-野火论坛    :http://www.firebbs.cn
-淘宝店铺    :https://fire-stm32.taobao.com

/*********************************************************************************************/